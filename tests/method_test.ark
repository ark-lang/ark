[c] func printf(fmt: str, ...): int;

type Thing struct {
    x: int
};

func (v: Thing) do() {
    C::printf("did! %d\n", v.x);
}

func (v: ^Thing) dop() {
    C::printf("didp! %d\n", v.x);
}

func main(): int {
    mut thing: Thing;
    thing.x = 6;

    C::printf("%x\n", thing);

    thing.do();

    thingptr := &thing;
    thingptr.dop();

    return 0;
}
